-- H2 2.3.232; 
;              
CREATE USER IF NOT EXISTS "JCS" SALT '77b207d8ed1e0bdf' HASH 'd028aa84d45abf9ea5e244ce95c1e2068e53d397abd619638998ae151e00541f' ADMIN;         
CREATE USER IF NOT EXISTS "SA" SALT '05c7bc2357c08228' HASH '9e86f51dcdeebd7f1e53b1ed81b383b4d89015e18aa6fa12180a14a30765b44b' ADMIN;          
CREATE SCHEMA IF NOT EXISTS "jcs" AUTHORIZATION "JCS";         
DROP TABLE IF EXISTS "jcs"."tiles" CASCADE;    
DROP TABLE IF EXISTS "jcs"."accessories" CASCADE;              
DROP TABLE IF EXISTS "jcs"."blocks" CASCADE;   
DROP TABLE IF EXISTS "jcs"."sensors" CASCADE;  
DROP TABLE IF EXISTS "jcs"."locomotive_functions" CASCADE;     
DROP TABLE IF EXISTS "jcs"."locomotives" CASCADE;              
DROP TABLE IF EXISTS "jcs"."command_stations" CASCADE;         
DROP TABLE IF EXISTS "jcs"."route_elements" CASCADE;           
DROP TABLE IF EXISTS "jcs"."jcs_properties" CASCADE;           
DROP TABLE IF EXISTS "jcs"."jcs_version" CASCADE;              
DROP TABLE IF EXISTS "jcs"."routes" CASCADE;   
CREATE CACHED TABLE "jcs"."tiles"(
    "id" CHARACTER VARYING(255) NOT NULL,
    "tile_type" CHARACTER VARYING(255) NOT NULL,
    "orientation" CHARACTER VARYING(255) NOT NULL,
    "direction" CHARACTER VARYING(255) NOT NULL,
    "x" INTEGER NOT NULL,
    "y" INTEGER NOT NULL,
    "signal_type" CHARACTER VARYING(255),
    "accessory_id" CHARACTER VARYING(255),
    "sensor_id" INTEGER
);          
ALTER TABLE "jcs"."tiles" ADD CONSTRAINT "jcs"."tile_pk" PRIMARY KEY("id");    
-- 35 +/- SELECT COUNT(*) FROM jcs.tiles;      
INSERT INTO "jcs"."tiles" VALUES
('st-1', 'Straight', 'East', 'Center', 100, 60, NULL, NULL, NULL),
('et-1', 'End', 'West', 'Center', 60, 60, NULL, NULL, NULL),
('et-2', 'End', 'East', 'Center', 860, 60, NULL, NULL, NULL),
('et-3', 'End', 'East', 'Center', 860, 140, NULL, NULL, NULL),
('et-4', 'End', 'West', 'Center', 60, 140, NULL, NULL, NULL),
('st-2', 'Straight', 'West', 'Center', 100, 140, NULL, NULL, NULL),
('bk-1', 'Block', 'West', 'Center', 220, 60, NULL, NULL, NULL),
('bk-2', 'Block', 'East', 'Center', 220, 140, NULL, NULL, NULL),
('bk-3', 'Block', 'East', 'Center', 700, 60, NULL, NULL, NULL),
('bk-4', 'Block', 'West', 'Center', 700, 140, NULL, NULL, NULL),
('se-1', 'Sensor', 'West', 'Center', 140, 60, NULL, NULL, 0),
('se-2', 'Sensor', 'West', 'Center', 300, 60, NULL, NULL, 1),
('se-3', 'Sensor', 'West', 'Center', 140, 140, NULL, NULL, 2),
('se-4', 'Sensor', 'West', 'Center', 300, 140, NULL, NULL, 3),
('se-5', 'Sensor', 'West', 'Center', 620, 60, NULL, NULL, 8),
('se-6', 'Sensor', 'East', 'Center', 780, 60, NULL, NULL, 9),
('se-7', 'Sensor', 'East', 'Center', 620, 140, NULL, NULL, 10),
('se-8', 'Sensor', 'East', 'Center', 780, 140, NULL, NULL, 11),
('st-3', 'Straight', 'East', 'Center', 820, 60, NULL, NULL, NULL),
('st-4', 'Straight', 'East', 'Center', 820, 140, NULL, NULL, NULL),
('st-5', 'Straight', 'East', 'Center', 580, 60, NULL, NULL, NULL),
('sw-1', 'Switch', 'West', 'Left', 500, 140, NULL, '20000', NULL),
('sw-2', 'Switch', 'East', 'Right', 420, 140, NULL, '20001', NULL),
('ct-1', 'Curved', 'South', 'Center', 420, 100, NULL, NULL, NULL),
('ct-2', 'Curved', 'East', 'Center', 500, 100, NULL, NULL, NULL),
('ct-3', 'Curved', 'North', 'Center', 380, 100, NULL, NULL, NULL),
('ct-4', 'Curved', 'West', 'Center', 540, 100, NULL, NULL, NULL),
('ct-5', 'Curved', 'South', 'Center', 380, 60, NULL, NULL, NULL),
('ct-6', 'Curved', 'East', 'Center', 540, 60, NULL, NULL, NULL),
('st-6', 'Straight', 'East', 'Center', 460, 140, NULL, NULL, NULL),
('st-7', 'Straight', 'East', 'Center', 340, 60, NULL, NULL, NULL),
('st-8', 'Straight', 'East', 'Center', 340, 140, NULL, NULL, NULL),
('st-9', 'Straight', 'East', 'Center', 380, 140, NULL, NULL, NULL),
('st-10', 'Straight', 'East', 'Center', 540, 140, NULL, NULL, NULL),
('st-11', 'Straight', 'East', 'Center', 580, 140, NULL, NULL, NULL); 
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."tile_pk_idx" ON "jcs"."tiles"("id" NULLS FIRST);     
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."tile_x_y_un_idx" ON "jcs"."tiles"("x" NULLS FIRST, "y" NULLS FIRST); 
CREATE CACHED TABLE "jcs"."accessories"(
    "id" CHARACTER VARYING(255) NOT NULL,
    "address" INTEGER NOT NULL,
    "name" CHARACTER VARYING(255) NOT NULL,
    "type" CHARACTER VARYING(255) NOT NULL,
    "state" INTEGER,
    "states" INTEGER,
    "switch_time" INTEGER,
    "protocol" CHARACTER VARYING(255),
    "decoder" CHARACTER VARYING(255),
    "accessory_group" CHARACTER VARYING(255),
    "icon" CHARACTER VARYING(255),
    "icon_file" CHARACTER VARYING(255),
    "imported" CHARACTER VARYING(255),
    "command_station_id" CHARACTER VARYING(255) NOT NULL,
    "synchronize" BOOLEAN DEFAULT FALSE NOT NULL
);    
ALTER TABLE "jcs"."accessories" ADD CONSTRAINT "jcs"."acce_pk" PRIMARY KEY("id");              
-- 8 +/- SELECT COUNT(*) FROM jcs.accessories; 
INSERT INTO "jcs"."accessories" VALUES
('20005', 16, 'Sein mini', 'lichtsignal_SH01', 1, 2, 500, 'mm', NULL, NULL, '13', NULL, 'ECoS', 'esu-ecos', TRUE),
('20004', 14, 'Sein 4', 'lichtsignal_HP012_SH01', 1, 4, 250, 'mm', NULL, NULL, '12', NULL, 'ECoS', 'esu-ecos', TRUE),
('20003', 12, 'Sein 3', 'lichtsignal_HP012', 1, 3, 250, 'mm', NULL, NULL, '11', NULL, 'ECoS', 'esu-ecos', TRUE),
('20002', 10, 'Sein', 'lichtsignal_HP01', 0, 2, 250, 'mm', NULL, NULL, '9', NULL, 'ECoS', 'esu-ecos', TRUE),
('20001', 2, 'W2', 'linksweiche', 0, 2, 250, 'dcc', NULL, NULL, '0', NULL, 'ECoS', 'esu-ecos', TRUE),
('20000', 1, 'W1', 'rechtsweiche', 1, 2, 250, 'dcc', NULL, NULL, '1', NULL, 'ECoS', 'esu-ecos', TRUE),
('20007', 1, 'viesmann', 'y_weiche', 1, 2, 250, 'mm', NULL, NULL, '3', NULL, 'ECoS', 'esu-ecos', TRUE),
('20006', 5, 'Symbol', 'lichtsignal_HP01', 1, 2, 250, 'dcc', NULL, NULL, '9', NULL, 'ECoS', 'esu-ecos', TRUE);              
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."acce_address_un_idx" ON "jcs"."accessories"("address" NULLS FIRST, "protocol" NULLS FIRST, "command_station_id" NULLS FIRST);        
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."acce_pk_idx" ON "jcs"."accessories"("id" NULLS FIRST);               
CREATE CACHED TABLE "jcs"."blocks"(
    "id" CHARACTER VARYING(255) NOT NULL,
    "tile_id" CHARACTER VARYING(255) NOT NULL,
    "description" CHARACTER VARYING(255),
    "plus_sensor_id" INTEGER,
    "min_sensor_id" INTEGER,
    "plus_signal_id" CHARACTER VARYING(255),
    "min_signal_id" CHARACTER VARYING(255),
    "locomotive_id" BIGINT,
    "allow_non_commuter_only" BOOLEAN DEFAULT FALSE NOT NULL,
    "status" CHARACTER VARYING(255),
    "incoming_suffix" CHARACTER VARYING(255),
    "min_wait_time" INTEGER DEFAULT 10 NOT NULL,
    "max_wait_time" INTEGER,
    "random_wait" BOOLEAN DEFAULT FALSE NOT NULL,
    "always_stop" BOOLEAN DEFAULT FALSE NOT NULL,
    "allow_commuter_only" BOOLEAN DEFAULT FALSE NOT NULL,
    "logical_direction" CHARACTER VARYING(255),
    "allow_direction_change" BOOLEAN DEFAULT TRUE NOT NULL
);              
ALTER TABLE "jcs"."blocks" ADD CONSTRAINT "jcs"."bloc_pk" PRIMARY KEY("id");   
-- 4 +/- SELECT COUNT(*) FROM jcs.blocks;      
INSERT INTO "jcs"."blocks" VALUES
('bk-1', 'bk-1', 'Blok 1', 0, 1, NULL, NULL, NULL, TRUE, 'Free', NULL, 10, NULL, FALSE, TRUE, TRUE, NULL, TRUE),
('bk-2', 'bk-2', 'Blok 2', 3, 2, NULL, NULL, 1013, TRUE, 'Occupied', '+', 10, NULL, FALSE, TRUE, TRUE, 'Forwards', TRUE),
('bk-3', 'bk-3', 'Blok 3', 9, 8, NULL, NULL, NULL, TRUE, 'Free', NULL, 10, NULL, FALSE, TRUE, TRUE, NULL, TRUE),
('bk-4', 'bk-4', 'Blok 4', 10, 11, NULL, NULL, 1005, TRUE, 'Occupied', '+', 10, NULL, FALSE, TRUE, TRUE, 'Backwards', TRUE);     
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."bloc_pk_idx" ON "jcs"."blocks"("id" NULLS FIRST);    
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."bloc_tile_idx" ON "jcs"."blocks"("tile_id" NULLS FIRST);             
CREATE CACHED TABLE "jcs"."sensors"(
    "id" INTEGER NOT NULL,
    "name" CHARACTER VARYING(255) NOT NULL,
    "device_id" INTEGER,
    "contact_id" INTEGER,
    "status" INTEGER,
    "previous_status" INTEGER,
    "millis" INTEGER,
    "last_updated" DATE,
    "node_id" INTEGER,
    "bus_nr" INTEGER DEFAULT 0 NOT NULL,
    "command_station_id" CHARACTER VARYING(255) NOT NULL
); 
ALTER TABLE "jcs"."sensors" ADD CONSTRAINT "jcs"."sens_pk" PRIMARY KEY("id");  
-- 48 +/- SELECT COUNT(*) FROM jcs.sensors;    
INSERT INTO "jcs"."sensors" VALUES
(0, 'M01-C01', 1, 1, 0, 1, NULL, NULL, 0, 0, 'esu-ecos'),
(1, 'M01-C02', 1, 2, 0, 1, NULL, NULL, 0, 0, 'esu-ecos'),
(2, 'M01-C03', 1, 3, 1, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(3, 'M01-C04', 1, 4, 0, 1, NULL, NULL, 0, 0, 'esu-ecos'),
(4, 'M01-C05', 1, 5, 0, 1, NULL, NULL, 0, 0, 'esu-ecos'),
(5, 'M01-C06', 1, 6, 0, 1, NULL, NULL, 0, 0, 'esu-ecos'),
(6, 'M01-C07', 1, 7, 0, 1, NULL, NULL, 0, 0, 'esu-ecos'),
(7, 'M01-C08', 1, 8, 0, 1, NULL, NULL, 0, 0, 'esu-ecos'),
(8, 'M01-C09', 1, 9, 0, 1, NULL, NULL, 0, 0, 'esu-ecos'),
(9, 'M01-C10', 1, 10, 0, 1, NULL, NULL, 0, 0, 'esu-ecos'),
(10, 'M01-C11', 1, 11, 0, 1, NULL, NULL, 0, 0, 'esu-ecos'),
(11, 'M01-C12', 1, 12, 1, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(12, 'M01-C13', 1, 13, 0, 1, NULL, NULL, 0, 0, 'esu-ecos'),
(13, 'M01-C14', 1, 14, 0, 1, NULL, NULL, 0, 0, 'esu-ecos'),
(14, 'M01-C15', 1, 15, 0, 1, NULL, NULL, 0, 0, 'esu-ecos'),
(15, 'M01-C16', 1, 16, 0, 1, NULL, NULL, 0, 0, 'esu-ecos'),
(16, 'M02-C01', 2, 1, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(17, 'M02-C02', 2, 2, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(18, 'M02-C03', 2, 3, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(19, 'M02-C04', 2, 4, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(20, 'M02-C05', 2, 5, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(21, 'M02-C06', 2, 6, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(22, 'M02-C07', 2, 7, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(23, 'M02-C08', 2, 8, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(24, 'M02-C09', 2, 9, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(25, 'M02-C10', 2, 10, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(26, 'M02-C11', 2, 11, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(27, 'M02-C12', 2, 12, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(28, 'M02-C13', 2, 13, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(29, 'M02-C14', 2, 14, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(30, 'M02-C15', 2, 15, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(31, 'M02-C16', 2, 16, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(32, 'M03-C01', 3, 1, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(33, 'M03-C02', 3, 2, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(34, 'M03-C03', 3, 3, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(35, 'M03-C04', 3, 4, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(36, 'M03-C05', 3, 5, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(37, 'M03-C06', 3, 6, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(38, 'M03-C07', 3, 7, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(39, 'M03-C08', 3, 8, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(40, 'M03-C09', 3, 9, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(41, 'M03-C10', 3, 10, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(42, 'M03-C11', 3, 11, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(43, 'M03-C12', 3, 12, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(44, 'M03-C13', 3, 13, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(45, 'M03-C14', 3, 14, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(46, 'M03-C15', 3, 15, 0, 0, NULL, NULL, 0, 0, 'esu-ecos'),
(47, 'M03-C16', 3, 16, 0, 0, NULL, NULL, 0, 0, 'esu-ecos');  
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."sens_pk_idx" ON "jcs"."sensors"("id" NULLS FIRST);   
CREATE CACHED TABLE "jcs"."locomotive_functions"(
    "id" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 360) SELECTIVITY 100 NOT NULL,
    "locomotive_id" BIGINT SELECTIVITY 3 NOT NULL,
    "f_number" INTEGER SELECTIVITY 8 NOT NULL,
    "f_type" INTEGER SELECTIVITY 9 NOT NULL,
    "f_value" INTEGER SELECTIVITY 1,
    "f_icon" CHARACTER VARYING(255) SELECTIVITY 9,
    "momentary" BOOLEAN DEFAULT FALSE SELECTIVITY 1 NOT NULL
);             
ALTER TABLE "jcs"."locomotive_functions" ADD CONSTRAINT "jcs"."lofu_pk" PRIMARY KEY("id");     
-- 359 +/- SELECT COUNT(*) FROM jcs.locomotive_functions;      
INSERT INTO "jcs"."locomotive_functions" VALUES
(1, 1000, 0, 3, 0, '3', FALSE),
(2, 1000, 1, 3847, 0, '3847', TRUE),
(3, 1000, 2, 8, 0, '8', FALSE),
(4, 1000, 3, 37, 0, '37', FALSE),
(5, 1000, 4, 11, 0, '11', FALSE),
(6, 1000, 5, 263, 0, '263', FALSE),
(7, 1000, 6, 16387, 0, '16387', FALSE),
(8, 1000, 7, 37, 0, '37', FALSE),
(9, 1000, 8, 32771, 0, '32771', FALSE),
(10, 1000, 9, 1287, 0, '1287', TRUE),
(11, 1000, 10, 1287, 0, '1287', TRUE),
(12, 1000, 11, 40, 0, '40', FALSE),
(13, 1000, 12, 2055, 0, '2055', FALSE),
(14, 1000, 13, 809, 0, '809', FALSE),
(15, 1000, 14, 7, 0, '7', TRUE),
(16, 1000, 15, 37, 0, '37', TRUE),
(17, 1000, 16, 0, 0, '0', FALSE),
(18, 1000, 17, 0, 0, '0', FALSE),
(19, 1000, 18, 0, 0, '0', FALSE),
(20, 1000, 19, 0, 0, '0', FALSE),
(21, 1000, 20, 0, 0, '0', FALSE),
(22, 1000, 21, 0, 0, '0', FALSE),
(23, 1000, 22, 0, 0, '0', FALSE),
(24, 1000, 23, 0, 0, '0', FALSE),
(25, 1000, 24, 0, 0, '0', FALSE),
(26, 1000, 25, 0, 0, '0', FALSE),
(27, 1000, 26, 0, 0, '0', FALSE),
(28, 1000, 27, 0, 0, '0', FALSE),
(29, 1000, 28, 0, 0, '0', FALSE),
(30, 1000, 29, 0, 0, '0', FALSE),
(31, 1000, 30, 0, 0, '0', FALSE),
(32, 1001, 0, 3, 0, '3', FALSE),
(33, 1001, 1, 7, 0, '7', FALSE),
(34, 1001, 2, 37, 0, '37', TRUE),
(35, 1001, 3, 37, 0, '37', TRUE),
(36, 1001, 4, 34, 0, '34', FALSE),
(37, 1001, 5, 260, 0, '260', FALSE),
(38, 1001, 6, 10, 0, '10', FALSE),
(39, 1001, 7, 4, 0, '4', FALSE),
(40, 1001, 8, 5, 0, '5', FALSE),
(41, 1001, 9, 3, 0, '3', FALSE),
(42, 1001, 10, 7, 0, '7', FALSE),
(43, 1001, 11, 1287, 0, '1287', FALSE),
(44, 1001, 12, 12039, 0, '12039', FALSE),
(45, 1001, 13, 2055, 0, '2055', TRUE),
(46, 1001, 14, 9, 0, '9', TRUE),
(47, 1001, 15, 40, 0, '40', FALSE),
(48, 1001, 16, 39, 0, '39', FALSE),
(49, 1001, 17, 12039, 0, '12039', FALSE),
(50, 1001, 18, 9, 0, '9', TRUE),
(51, 1001, 19, 11527, 0, '11527', TRUE),
(52, 1001, 20, 11015, 0, '11015', FALSE),
(53, 1001, 21, 8, 0, '8', TRUE),
(54, 1001, 22, 9, 0, '9', TRUE),
(55, 1001, 23, 1033, 0, '1033', TRUE),
(56, 1001, 24, 809, 0, '809', FALSE),
(57, 1001, 25, 11783, 0, '11783', TRUE),
(58, 1001, 26, 300, 0, '300', FALSE),
(59, 1001, 27, 263, 0, '263', FALSE),
(60, 1001, 28, 12039, 0, '12039', FALSE),
(61, 1001, 29, 1033, 0, '1033', TRUE),
(62, 1001, 30, 1033, 0, '1033', TRUE),
(63, 1002, 0, 3, 0, '3', FALSE),
(64, 1002, 1, 0, 0, '0', FALSE),
(65, 1002, 2, 0, 0, '0', FALSE),
(66, 1002, 3, 10, 0, '10', FALSE),
(67, 1002, 4, 11, 0, '11', FALSE),
(68, 1002, 5, 0, 0, '0', FALSE),
(69, 1002, 6, 0, 0, '0', FALSE),
(70, 1002, 7, 0, 0, '0', FALSE),
(71, 1002, 8, 0, 0, '0', FALSE),
(72, 1002, 9, 0, 0, '0', FALSE),
(73, 1002, 10, 0, 0, '0', FALSE),
(74, 1002, 11, 0, 0, '0', FALSE),
(75, 1002, 12, 0, 0, '0', FALSE),
(76, 1002, 13, 0, 0, '0', FALSE),
(77, 1002, 14, 0, 0, '0', FALSE),
(78, 1002, 15, 0, 0, '0', FALSE),
(79, 1002, 16, 0, 0, '0', FALSE),
(80, 1002, 17, 0, 0, '0', FALSE),
(81, 1002, 18, 0, 0, '0', FALSE),
(82, 1002, 19, 0, 0, '0', FALSE),
(83, 1002, 20, 0, 0, '0', FALSE),
(84, 1002, 21, 0, 0, '0', FALSE),
(85, 1002, 22, 0, 0, '0', FALSE),
(86, 1002, 23, 0, 0, '0', FALSE),
(87, 1002, 24, 0, 0, '0', FALSE),
(88, 1002, 25, 0, 0, '0', FALSE),
(89, 1002, 26, 0, 0, '0', FALSE),
(90, 1002, 27, 0, 0, '0', FALSE),
(91, 1002, 28, 0, 0, '0', FALSE),
(92, 1002, 29, 0, 0, '0', FALSE),
(93, 1002, 30, 0, 0, '0', FALSE),
(94, 1003, 0, 3, 0, '3', FALSE),
(95, 1003, 1, 1541, 0, '1541', FALSE),
(96, 1003, 2, 1029, 0, '1029', FALSE),
(97, 1003, 3, 10, 0, '10', FALSE),
(98, 1003, 4, 11, 0, '11', FALSE),
(99, 1003, 5, 0, 0, '0', FALSE),
(100, 1003, 6, 0, 0, '0', FALSE),
(101, 1003, 7, 0, 0, '0', FALSE),
(102, 1003, 8, 0, 0, '0', FALSE),
(103, 1003, 9, 0, 0, '0', FALSE),
(104, 1003, 10, 0, 0, '0', FALSE),
(105, 1003, 11, 0, 0, '0', FALSE),
(106, 1003, 12, 0, 0, '0', FALSE),
(107, 1003, 13, 0, 0, '0', FALSE),
(108, 1003, 14, 0, 0, '0', FALSE),
(109, 1003, 15, 0, 0, '0', FALSE),
(110, 1003, 16, 0, 0, '0', FALSE),
(111, 1003, 17, 0, 0, '0', FALSE),
(112, 1003, 18, 0, 0, '0', FALSE),
(113, 1003, 19, 0, 0, '0', FALSE),
(114, 1003, 20, 0, 0, '0', FALSE),
(115, 1003, 21, 0, 0, '0', FALSE),
(116, 1003, 22, 0, 0, '0', FALSE); 
INSERT INTO "jcs"."locomotive_functions" VALUES
(117, 1003, 23, 0, 0, '0', FALSE),
(118, 1003, 24, 0, 0, '0', FALSE),
(119, 1003, 25, 0, 0, '0', FALSE),
(120, 1003, 26, 0, 0, '0', FALSE),
(121, 1003, 27, 0, 0, '0', FALSE),
(122, 1003, 28, 0, 0, '0', FALSE),
(123, 1003, 29, 0, 0, '0', FALSE),
(124, 1003, 30, 0, 0, '0', FALSE),
(125, 1004, 0, 3, 0, '3', FALSE),
(126, 1004, 1, 1029, 0, '1029', FALSE),
(127, 1004, 2, 1541, 0, '1541', FALSE),
(128, 1004, 3, 10, 0, '10', FALSE),
(129, 1004, 4, 11, 0, '11', FALSE),
(130, 1004, 5, 32771, 0, '32771', FALSE),
(131, 1004, 6, 16387, 0, '16387', FALSE),
(132, 1004, 7, 0, 0, '0', FALSE),
(133, 1004, 8, 0, 0, '0', FALSE),
(134, 1004, 9, 0, 0, '0', FALSE),
(135, 1004, 10, 0, 0, '0', FALSE),
(136, 1004, 11, 0, 0, '0', FALSE),
(137, 1004, 12, 0, 0, '0', FALSE),
(138, 1004, 13, 0, 0, '0', FALSE),
(139, 1004, 14, 0, 0, '0', FALSE),
(140, 1004, 15, 0, 0, '0', FALSE),
(141, 1004, 16, 0, 0, '0', FALSE),
(142, 1004, 17, 0, 0, '0', FALSE),
(143, 1004, 18, 0, 0, '0', FALSE),
(144, 1004, 19, 0, 0, '0', FALSE),
(145, 1004, 20, 0, 0, '0', FALSE),
(146, 1004, 21, 0, 0, '0', FALSE),
(147, 1004, 22, 0, 0, '0', FALSE),
(148, 1004, 23, 0, 0, '0', FALSE),
(149, 1004, 24, 0, 0, '0', FALSE),
(150, 1004, 25, 0, 0, '0', FALSE),
(151, 1004, 26, 0, 0, '0', FALSE),
(152, 1004, 27, 0, 0, '0', FALSE),
(153, 1004, 28, 0, 0, '0', FALSE),
(154, 1004, 29, 0, 0, '0', FALSE),
(155, 1004, 30, 0, 0, '0', FALSE),
(156, 1005, 0, 3, 1, '3', FALSE),
(157, 1005, 1, 0, 0, '0', FALSE),
(158, 1005, 2, 0, 0, '0', FALSE),
(159, 1005, 3, 10, 0, '10', FALSE),
(160, 1005, 4, 11, 0, '11', FALSE),
(161, 1005, 5, 0, 0, '0', FALSE),
(162, 1005, 6, 0, 0, '0', FALSE),
(163, 1005, 7, 0, 0, '0', FALSE),
(164, 1005, 8, 0, 0, '0', FALSE),
(165, 1006, 0, 3, 0, '3', FALSE),
(166, 1006, 1, 0, 0, '0', FALSE),
(167, 1006, 2, 0, 0, '0', FALSE),
(168, 1006, 3, 10, 0, '10', FALSE),
(169, 1006, 4, 11, 0, '11', FALSE),
(170, 1006, 5, 0, 0, '0', FALSE),
(171, 1006, 6, 0, 0, '0', FALSE),
(172, 1006, 7, 0, 0, '0', FALSE),
(173, 1006, 8, 0, 0, '0', FALSE),
(174, 1007, 0, 3, 0, '3', FALSE),
(175, 1007, 1, 260, 0, '260', FALSE),
(176, 1007, 2, 260, 0, '260', FALSE),
(177, 1007, 3, 10, 0, '10', FALSE),
(178, 1007, 4, 11, 0, '11', FALSE),
(179, 1007, 5, 3, 0, '3', FALSE),
(180, 1007, 6, 3, 0, '3', FALSE),
(181, 1007, 7, 1029, 0, '1029', FALSE),
(182, 1007, 8, 0, 0, '0', FALSE),
(183, 1007, 9, 0, 0, '0', FALSE),
(184, 1007, 10, 0, 0, '0', FALSE),
(185, 1007, 11, 0, 0, '0', FALSE),
(186, 1007, 12, 0, 0, '0', FALSE),
(187, 1007, 13, 0, 0, '0', FALSE),
(188, 1007, 14, 0, 0, '0', FALSE),
(189, 1007, 15, 0, 0, '0', FALSE),
(190, 1007, 16, 0, 0, '0', FALSE),
(191, 1007, 17, 0, 0, '0', FALSE),
(192, 1007, 18, 0, 0, '0', FALSE),
(193, 1007, 19, 0, 0, '0', FALSE),
(194, 1007, 20, 0, 0, '0', FALSE),
(195, 1007, 21, 0, 0, '0', FALSE),
(196, 1007, 22, 0, 0, '0', FALSE),
(197, 1007, 23, 0, 0, '0', FALSE),
(198, 1007, 24, 0, 0, '0', FALSE),
(199, 1007, 25, 0, 0, '0', FALSE),
(200, 1007, 26, 0, 0, '0', FALSE),
(201, 1007, 27, 0, 0, '0', FALSE),
(202, 1007, 28, 0, 0, '0', FALSE),
(203, 1007, 29, 0, 0, '0', FALSE),
(204, 1007, 30, 0, 0, '0', FALSE),
(205, 1008, 0, 3, 0, '3', FALSE),
(206, 1008, 1, 0, 0, '0', FALSE),
(207, 1008, 2, 0, 0, '0', FALSE),
(208, 1008, 3, 10, 0, '10', FALSE),
(209, 1008, 4, 11, 0, '11', FALSE),
(210, 1008, 5, 0, 0, '0', FALSE),
(211, 1008, 6, 0, 0, '0', FALSE),
(212, 1008, 7, 0, 0, '0', FALSE),
(213, 1008, 8, 0, 0, '0', FALSE),
(214, 1008, 9, 0, 0, '0', FALSE),
(215, 1008, 10, 0, 0, '0', FALSE),
(216, 1008, 11, 0, 0, '0', FALSE),
(217, 1008, 12, 0, 0, '0', FALSE),
(218, 1008, 13, 0, 0, '0', FALSE),
(219, 1008, 14, 0, 0, '0', FALSE),
(220, 1008, 15, 0, 0, '0', FALSE),
(221, 1008, 16, 0, 0, '0', FALSE),
(222, 1008, 17, 0, 0, '0', FALSE),
(223, 1008, 18, 0, 0, '0', FALSE),
(224, 1008, 19, 0, 0, '0', FALSE),
(225, 1008, 20, 0, 0, '0', FALSE),
(226, 1008, 21, 0, 0, '0', FALSE),
(227, 1008, 22, 0, 0, '0', FALSE),
(228, 1008, 23, 0, 0, '0', FALSE),
(229, 1008, 24, 0, 0, '0', FALSE),
(230, 1008, 25, 0, 0, '0', FALSE),
(231, 1008, 26, 0, 0, '0', FALSE),
(232, 1008, 27, 0, 0, '0', FALSE);      
INSERT INTO "jcs"."locomotive_functions" VALUES
(233, 1008, 28, 0, 0, '0', FALSE),
(234, 1008, 29, 0, 0, '0', FALSE),
(235, 1008, 30, 0, 0, '0', FALSE),
(236, 1009, 0, 3, 0, '3', FALSE),
(237, 1009, 1, 4, 0, '4', FALSE),
(238, 1009, 2, 4, 0, '4', FALSE),
(239, 1009, 3, 10, 0, '10', FALSE),
(240, 1009, 4, 11, 0, '11', FALSE),
(241, 1009, 5, 0, 0, '0', FALSE),
(242, 1009, 6, 0, 0, '0', FALSE),
(243, 1009, 7, 0, 0, '0', FALSE),
(244, 1009, 8, 0, 0, '0', FALSE),
(245, 1009, 9, 0, 0, '0', FALSE),
(246, 1009, 10, 0, 0, '0', FALSE),
(247, 1009, 11, 0, 0, '0', FALSE),
(248, 1009, 12, 0, 0, '0', FALSE),
(249, 1009, 13, 0, 0, '0', FALSE),
(250, 1009, 14, 0, 0, '0', FALSE),
(251, 1009, 15, 0, 0, '0', FALSE),
(252, 1009, 16, 0, 0, '0', FALSE),
(253, 1009, 17, 0, 0, '0', FALSE),
(254, 1009, 18, 0, 0, '0', FALSE),
(255, 1009, 19, 0, 0, '0', FALSE),
(256, 1009, 20, 0, 0, '0', FALSE),
(257, 1009, 21, 0, 0, '0', FALSE),
(258, 1009, 22, 0, 0, '0', FALSE),
(259, 1009, 23, 0, 0, '0', FALSE),
(260, 1009, 24, 0, 0, '0', FALSE),
(261, 1009, 25, 0, 0, '0', FALSE),
(262, 1009, 26, 0, 0, '0', FALSE),
(263, 1009, 27, 0, 0, '0', FALSE),
(264, 1009, 28, 0, 0, '0', FALSE),
(265, 1009, 29, 0, 0, '0', FALSE),
(266, 1009, 30, 0, 0, '0', FALSE),
(267, 1011, 0, 3, 0, '3', FALSE),
(268, 1011, 1, 33, 0, '33', FALSE),
(269, 1011, 2, 8, 0, '8', FALSE),
(270, 1011, 3, 37, 0, '37', FALSE),
(271, 1011, 4, 11, 0, '11', FALSE),
(272, 1011, 5, 263, 0, '263', FALSE),
(273, 1011, 6, 16387, 0, '16387', FALSE),
(274, 1011, 7, 37, 0, '37', TRUE),
(275, 1011, 8, 32771, 0, '32771', FALSE),
(276, 1011, 9, 260, 0, '260', FALSE),
(277, 1011, 10, 40, 0, '40', FALSE),
(278, 1011, 11, 772, 0, '772', FALSE),
(279, 1011, 12, 809, 0, '809', FALSE),
(280, 1011, 13, 7, 0, '7', TRUE),
(281, 1011, 14, 1029, 0, '1029', FALSE),
(282, 1011, 15, 12039, 0, '12039', FALSE),
(283, 1011, 16, 10, 0, '10', FALSE),
(284, 1011, 17, 11783, 0, '11783', TRUE),
(285, 1011, 18, 37, 0, '37', FALSE),
(286, 1011, 19, 37, 0, '37', TRUE),
(287, 1011, 20, 10, 0, '10', FALSE),
(288, 1011, 21, 1287, 0, '1287', TRUE),
(289, 1011, 22, 559, 0, '559', FALSE),
(290, 1011, 23, 1287, 0, '1287', TRUE),
(291, 1011, 24, 9, 0, '9', FALSE),
(292, 1011, 25, 9, 0, '9', FALSE),
(293, 1011, 26, 39, 0, '39', FALSE),
(294, 1011, 27, 0, 0, '0', FALSE),
(295, 1011, 28, 0, 0, '0', FALSE),
(296, 1011, 29, 0, 0, '0', FALSE),
(297, 1011, 30, 0, 0, '0', FALSE),
(298, 1012, 0, 3, 0, '3', FALSE),
(299, 1012, 1, 33, 0, '33', FALSE),
(300, 1012, 2, 8, 0, '8', FALSE),
(301, 1012, 3, 37, 0, '37', FALSE),
(302, 1012, 4, 11, 0, '11', FALSE),
(303, 1012, 5, 263, 0, '263', FALSE),
(304, 1012, 6, 16387, 0, '16387', FALSE),
(305, 1012, 7, 37, 0, '37', TRUE),
(306, 1012, 8, 32771, 0, '32771', FALSE),
(307, 1012, 9, 260, 0, '260', FALSE),
(308, 1012, 10, 35, 0, '35', FALSE),
(309, 1012, 11, 772, 0, '772', FALSE),
(310, 1012, 12, 40, 0, '40', FALSE),
(311, 1012, 13, 1029, 0, '1029', FALSE),
(312, 1012, 14, 5, 0, '5', FALSE),
(313, 1012, 15, 12039, 0, '12039', FALSE),
(314, 1012, 16, 37, 0, '37', FALSE),
(315, 1012, 17, 809, 0, '809', FALSE),
(316, 1012, 18, 37, 0, '37', TRUE),
(317, 1012, 19, 10, 0, '10', FALSE),
(318, 1012, 20, 7, 0, '7', TRUE),
(319, 1012, 21, 11783, 0, '11783', TRUE),
(320, 1012, 22, 7, 0, '7', FALSE),
(321, 1012, 23, 1287, 0, '1287', TRUE),
(322, 1012, 24, 1287, 0, '1287', TRUE),
(323, 1012, 25, 9, 0, '9', FALSE),
(324, 1012, 26, 9, 0, '9', FALSE),
(325, 1012, 27, 39, 0, '39', FALSE),
(326, 1012, 28, 0, 0, '0', FALSE),
(327, 1012, 29, 0, 0, '0', FALSE),
(328, 1012, 30, 0, 0, '0', FALSE),
(329, 1013, 0, 3, 1, '3', FALSE),
(330, 1013, 1, 0, 0, '0', FALSE),
(331, 1013, 2, 0, 0, '0', FALSE),
(332, 1013, 3, 0, 0, '0', FALSE),
(333, 1013, 4, 11, 0, '11', FALSE),
(334, 1013, 5, 0, 0, '0', FALSE),
(335, 1013, 6, 0, 0, '0', FALSE),
(336, 1013, 7, 0, 0, '0', FALSE),
(337, 1013, 8, 0, 0, '0', FALSE),
(338, 1013, 9, 0, 0, '0', FALSE),
(339, 1013, 10, 0, 0, '0', FALSE),
(340, 1013, 11, 0, 0, '0', FALSE),
(341, 1013, 12, 0, 0, '0', FALSE),
(342, 1013, 13, 0, 0, '0', FALSE),
(343, 1013, 14, 0, 0, '0', FALSE),
(344, 1013, 15, 0, 0, '0', FALSE),
(345, 1013, 16, 0, 0, '0', FALSE);           
INSERT INTO "jcs"."locomotive_functions" VALUES
(346, 1013, 17, 0, 0, '0', FALSE),
(347, 1013, 18, 0, 0, '0', FALSE),
(348, 1013, 19, 0, 0, '0', FALSE),
(349, 1013, 20, 0, 0, '0', FALSE),
(350, 1013, 21, 0, 0, '0', FALSE),
(351, 1013, 22, 0, 0, '0', FALSE),
(352, 1013, 23, 0, 0, '0', FALSE),
(353, 1013, 24, 0, 0, '0', FALSE),
(354, 1013, 25, 0, 0, '0', FALSE),
(355, 1013, 26, 0, 0, '0', FALSE),
(356, 1013, 27, 0, 0, '0', FALSE),
(357, 1013, 28, 0, 0, '0', FALSE),
(358, 1013, 29, 0, 0, '0', FALSE),
(359, 1013, 30, 0, 0, '0', FALSE);      
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."lofu_pk_idx" ON "jcs"."locomotive_functions"("id" NULLS FIRST);      
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."lofu_loid_fnum_un_idx" ON "jcs"."locomotive_functions"("locomotive_id" NULLS FIRST, "f_number" NULLS FIRST);         
CREATE CACHED TABLE "jcs"."locomotives"(
    "id" BIGINT NOT NULL,
    "name" CHARACTER VARYING(255) NOT NULL,
    "uid" BIGINT,
    "address" INTEGER NOT NULL,
    "icon" CHARACTER VARYING(255),
    "decoder_type" CHARACTER VARYING(255) NOT NULL,
    "tacho_max" INTEGER,
    "v_min" INTEGER,
    "velocity" INTEGER,
    "synchronize" BOOLEAN DEFAULT FALSE NOT NULL,
    "imported" CHARACTER VARYING(255),
    "commuter" BOOLEAN DEFAULT FALSE NOT NULL,
    "show" BOOLEAN DEFAULT TRUE NOT NULL,
    "command_station_id" CHARACTER VARYING(255) NOT NULL,
    "dispatcher_direction" CHARACTER VARYING(255),
    "locomotive_direction" CHARACTER VARYING(255),
    "speed_1" INTEGER,
    "speed_2" INTEGER,
    "speed_3" INTEGER,
    "speed_4" INTEGER
);  
ALTER TABLE "jcs"."locomotives" ADD CONSTRAINT "jcs"."loco_pk" PRIMARY KEY("id");              
-- 13 +/- SELECT COUNT(*) FROM jcs.locomotives;
INSERT INTO "jcs"."locomotives" VALUES
(1000, '193 304-3 DB AG', 1000, 0, '/Users/fransjacobs/jcs/cache/ecos/loco_type_e-image_type_int-36.png', 'mfx', 126, 0, 0, TRUE, 'Manual Updated', FALSE, FALSE, 'esu-ecos', NULL, 'BACKWARDS', NULL, NULL, NULL, NULL),
(1001, 'SNCB/NMBS HLE 27', 3, 3, '/Users/fransjacobs/jcs/cache/ecos/loco_type_e-image_type_int-2.png', 'dcc', 126, 0, 0, TRUE, 'Manual Updated', FALSE, FALSE, 'esu-ecos', NULL, 'FORWARDS', NULL, NULL, NULL, NULL),
(1002, 'FS236-002', 14, 14, '/Users/fransjacobs/jcs/cache/ecos/loco_type_diesel-image_type_int-14.png', 'dcc', 126, 0, 0, TRUE, 'Manual Updated', FALSE, FALSE, 'esu-ecos', NULL, 'FORWARDS', NULL, NULL, NULL, NULL),
(1003, 'NS 6505', 8, 8, '/Users/fransjacobs/jcs/cache/ecos/loco_type_diesel-image_type_int-21.png', 'dcc', 126, 0, 0, TRUE, 'Manual Updated', FALSE, FALSE, 'esu-ecos', NULL, 'BACKWARDS', NULL, NULL, NULL, NULL),
(1004, 'NS 1205', 11, 11, '/Users/fransjacobs/jcs/cache/ecos/loco_type_e-image_type_int-46.png', 'dcc', 126, 0, 0, TRUE, 'Manual Updated', FALSE, FALSE, 'esu-ecos', NULL, 'FORWARDS', NULL, NULL, NULL, NULL),
(1005, 'DB-141-015-8', 12, 12, '/Users/fransjacobs/jcs/cache/ecos/loco_type_e-image_type_int-37.png', 'mm', 126, 0, 0, TRUE, 'Manual Updated', TRUE, TRUE, 'esu-ecos', NULL, 'BACKWARDS', NULL, NULL, NULL, NULL),
(1006, 'BR-81-002', 2, 2, '/Users/fransjacobs/jcs/cache/ecos/loco_type_steam-image_type_int-77.png', 'mm', 126, 0, 0, TRUE, 'Manual Updated', FALSE, FALSE, 'esu-ecos', NULL, 'FORWARDS', NULL, NULL, NULL, NULL),
(1007, 'NS 1139', 5, 5, '/Users/fransjacobs/jcs/cache/ecos/loco_type_e-image_type_int-37.png', 'dcc', 126, 0, 0, TRUE, 'Manual Updated', FALSE, FALSE, 'esu-ecos', NULL, 'BACKWARDS', NULL, NULL, NULL, NULL),
(1008, 'NS 1309', 68, 68, '/Users/fransjacobs/jcs/cache/ecos/loco_type_e-image_type_int-35.png', 'dcc', 126, 0, 0, TRUE, 'Manual Updated', FALSE, FALSE, 'esu-ecos', NULL, 'FORWARDS', NULL, NULL, NULL, NULL),
(1009, 'Plan V', 7, 7, '/Users/fransjacobs/jcs/cache/ecos/loco_type_e-image_type_int-53.png', 'dcc', 126, 0, 0, TRUE, 'Manual Updated', FALSE, FALSE, 'esu-ecos', NULL, 'FORWARDS', NULL, NULL, NULL, NULL),
(1011, '247 047-4 DB', 1011, 0, '/Users/fransjacobs/jcs/cache/ecos/loco_type_diesel-image_type_int-21.png', 'mfx', 126, 0, 0, TRUE, 'Manual Updated', FALSE, FALSE, 'esu-ecos', NULL, 'FORWARDS', NULL, NULL, NULL, NULL),
(1012, '66 K714 CFL', 1012, 0, '/Users/fransjacobs/jcs/cache/ecos/loco_type_diesel-image_type_int-21.png', 'mfx', 126, 0, 0, TRUE, 'Manual Updated', FALSE, FALSE, 'esu-ecos', NULL, 'FORWARDS', NULL, NULL, NULL, NULL),
(1013, 'BR 216 059-6', 1013, 0, '/Users/fransjacobs/jcs/cache/ecos/loco_type_diesel-image_type_int-8.png', 'mfx', 126, 0, 0, TRUE, 'Manual Updated', TRUE, TRUE, 'esu-ecos', NULL, 'FORWARDS', NULL, NULL, NULL, NULL);               
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."loco_pk_idx" ON "jcs"."locomotives"("id" NULLS FIRST);               
CREATE CACHED TABLE "jcs"."command_stations"(
    "id" CHARACTER VARYING(255) NOT NULL,
    "description" CHARACTER VARYING(255) NOT NULL,
    "short_name" CHARACTER VARYING(255) NOT NULL,
    "class_name" CHARACTER VARYING(255) NOT NULL,
    "connect_via" CHARACTER VARYING(255) NOT NULL,
    "serial_port" CHARACTER VARYING(255),
    "ip_address" CHARACTER VARYING(255),
    "network_port" INTEGER,
    "ip_auto_conf" BOOLEAN DEFAULT FALSE NOT NULL,
    "supports_decoder_control" BOOLEAN DEFAULT TRUE NOT NULL,
    "supports_accessory_control" BOOLEAN DEFAULT TRUE NOT NULL,
    "supports_feedback" BOOLEAN DEFAULT TRUE NOT NULL,
    "supports_loco_synch" BOOLEAN DEFAULT FALSE NOT NULL,
    "supports_accessory_synch" BOOLEAN DEFAULT FALSE NOT NULL,
    "supports_loco_image_synch" BOOLEAN DEFAULT FALSE NOT NULL,
    "supports_loco_function_synch" BOOLEAN DEFAULT FALSE NOT NULL,
    "protocols" CHARACTER VARYING(255) DEFAULT 'DCC' NOT NULL,
    "default_cs" BOOLEAN DEFAULT FALSE NOT NULL,
    "enabled" BOOLEAN DEFAULT FALSE NOT NULL,
    "last_used_serial" CHARACTER VARYING(255),
    "sup_conn_types" CHARACTER VARYING(255) NOT NULL,
    "feedback_module_id" CHARACTER VARYING(255),
    "feedback_bus_count" INTEGER,
    "feedback_bus_0_module_count" INTEGER,
    "feedback_bus_1_module_count" INTEGER,
    "feedback_bus_2_module_count" INTEGER,
    "feedback_bus_3_module_count" INTEGER,
    "virtual" BOOLEAN DEFAULT FALSE NOT NULL
);         
ALTER TABLE "jcs"."command_stations" ADD CONSTRAINT "jcs"."command_station_pk" PRIMARY KEY("id");              
-- 5 +/- SELECT COUNT(*) FROM jcs.command_stations;            
INSERT INTO "jcs"."command_stations" VALUES
('marklin.cs', 'Marklin Central Station 2/3', 'CS', 'jcs.commandStation.marklin.cs.MarklinCentralStationImpl', 'NETWORK', NULL, '192.168.1.180', 15731, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, 'DCC,MFX,MM', FALSE, FALSE, NULL, 'NETWORK', NULL, NULL, NULL, NULL, NULL, NULL, FALSE),
('dcc-ex', 'DCC-EX', 'dcc-ex', 'jcs.commandStation.dccex.DccExCommandStationImpl', 'NETWORK', NULL, '192.168.178.73', 2560, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, 'DCC', FALSE, FALSE, NULL, 'NETWORK,SERIAL', NULL, NULL, NULL, NULL, NULL, NULL, FALSE),
('hsi-s88', 'HSI S88', 'HSI', 'jcs.commandStation.hsis88.HSIImpl', 'SERIAL', NULL, NULL, 0, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, '', FALSE, FALSE, NULL, 'SERIAL', '0', 1, 6, 0, 0, 0, FALSE),
('virtual', 'Virtual CS', 'VIR', 'jcs.commandStation.virtual.VirtualCommandStationImpl', 'NETWORK', NULL, '127.0.0.1', 0, FALSE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, 'dcc', FALSE, FALSE, '1', 'NETWORK', '0', 1, 1, 0, 0, 0, TRUE),
('esu-ecos', 'ESU ECoS', 'ECoS', 'jcs.commandStation.esu.ecos.EsuEcosCommandStationImpl', 'NETWORK', NULL, '192.168.1.110', 15471, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, 'DCC,MFX,MM', TRUE, TRUE, '1', 'NETWORK', '0', 0, 0, 0, 0, 0, FALSE);               
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."command_station_pk_idx" ON "jcs"."command_stations"("id" NULLS FIRST);               
CREATE CACHED TABLE "jcs"."route_elements"(
    "id" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 609) NOT NULL,
    "route_id" CHARACTER VARYING(255) NOT NULL,
    "node_id" CHARACTER VARYING(255) NOT NULL,
    "tile_id" CHARACTER VARYING(255) NOT NULL,
    "accessory_value" CHARACTER VARYING(255),
    "order_seq" INTEGER DEFAULT 0 NOT NULL,
    "incoming_side" CHARACTER VARYING(255)
);    
ALTER TABLE "jcs"."route_elements" ADD CONSTRAINT "jcs"."roel_pk" PRIMARY KEY("id");           
-- 112 +/- SELECT COUNT(*) FROM jcs.route_elements;            
INSERT INTO "jcs"."route_elements" VALUES
(57, '[bk-2+]->[bk-3-]', 'bk-2', 'bk-2', NULL, 0, NULL),
(58, '[bk-2+]->[bk-3-]', 'bk-2+', 'bk-2', NULL, 1, NULL),
(59, '[bk-2+]->[bk-3-]', 'se-4', 'se-4', NULL, 2, 'West'),
(60, '[bk-2+]->[bk-3-]', 'st-8', 'st-8', NULL, 3, 'West'),
(61, '[bk-2+]->[bk-3-]', 'st-9', 'st-9', NULL, 4, 'West'),
(62, '[bk-2+]->[bk-3-]', 'sw-2', 'sw-2', 'G', 5, 'West'),
(63, '[bk-2+]->[bk-3-]', 'st-6', 'st-6', NULL, 6, 'West'),
(64, '[bk-2+]->[bk-3-]', 'sw-1', 'sw-1', 'R', 7, 'West'),
(65, '[bk-2+]->[bk-3-]', 'ct-2', 'ct-2', NULL, 8, 'South'),
(66, '[bk-2+]->[bk-3-]', 'ct-4', 'ct-4', NULL, 9, 'West'),
(67, '[bk-2+]->[bk-3-]', 'ct-6', 'ct-6', NULL, 10, 'South'),
(68, '[bk-2+]->[bk-3-]', 'st-5', 'st-5', NULL, 11, 'West'),
(69, '[bk-2+]->[bk-3-]', 'se-5', 'se-5', NULL, 12, 'West'),
(70, '[bk-2+]->[bk-3-]', 'bk-3-', 'bk-3', NULL, 13, 'West'),
(125, '[bk-2+]->[bk-4+]', 'bk-2', 'bk-2', NULL, 0, NULL),
(126, '[bk-2+]->[bk-4+]', 'bk-2+', 'bk-2', NULL, 1, NULL),
(127, '[bk-2+]->[bk-4+]', 'se-4', 'se-4', NULL, 2, 'West'),
(128, '[bk-2+]->[bk-4+]', 'st-8', 'st-8', NULL, 3, 'West'),
(129, '[bk-2+]->[bk-4+]', 'st-9', 'st-9', NULL, 4, 'West'),
(130, '[bk-2+]->[bk-4+]', 'sw-2', 'sw-2', 'G', 5, 'West'),
(131, '[bk-2+]->[bk-4+]', 'st-6', 'st-6', NULL, 6, 'West'),
(132, '[bk-2+]->[bk-4+]', 'sw-1', 'sw-1', 'G', 7, 'West'),
(133, '[bk-2+]->[bk-4+]', 'st-10', 'st-10', NULL, 8, 'West'),
(134, '[bk-2+]->[bk-4+]', 'st-11', 'st-11', NULL, 9, 'West'),
(135, '[bk-2+]->[bk-4+]', 'se-7', 'se-7', NULL, 10, 'West'),
(136, '[bk-2+]->[bk-4+]', 'bk-4+', 'bk-4', NULL, 11, 'West'),
(425, '[bk-1-]->[bk-3-]', 'bk-1', 'bk-1', NULL, 0, NULL),
(426, '[bk-1-]->[bk-3-]', 'bk-1-', 'bk-1', NULL, 1, NULL),
(427, '[bk-1-]->[bk-3-]', 'se-2', 'se-2', NULL, 2, 'West'),
(428, '[bk-1-]->[bk-3-]', 'st-7', 'st-7', NULL, 3, 'West'),
(429, '[bk-1-]->[bk-3-]', 'ct-5', 'ct-5', NULL, 4, 'West'),
(430, '[bk-1-]->[bk-3-]', 'ct-3', 'ct-3', NULL, 5, 'North'),
(431, '[bk-1-]->[bk-3-]', 'ct-1', 'ct-1', NULL, 6, 'West'),
(432, '[bk-1-]->[bk-3-]', 'sw-2', 'sw-2', 'R', 7, 'North'),
(433, '[bk-1-]->[bk-3-]', 'st-6', 'st-6', NULL, 8, 'West'),
(434, '[bk-1-]->[bk-3-]', 'sw-1', 'sw-1', 'R', 9, 'West'),
(435, '[bk-1-]->[bk-3-]', 'ct-2', 'ct-2', NULL, 10, 'South'),
(436, '[bk-1-]->[bk-3-]', 'ct-4', 'ct-4', NULL, 11, 'West'),
(437, '[bk-1-]->[bk-3-]', 'ct-6', 'ct-6', NULL, 12, 'South'),
(438, '[bk-1-]->[bk-3-]', 'st-5', 'st-5', NULL, 13, 'West'),
(439, '[bk-1-]->[bk-3-]', 'se-5', 'se-5', NULL, 14, 'West'),
(440, '[bk-1-]->[bk-3-]', 'bk-3-', 'bk-3', NULL, 15, 'West'),
(455, '[bk-4+]->[bk-1-]', 'bk-4', 'bk-4', NULL, 0, NULL),
(456, '[bk-4+]->[bk-1-]', 'bk-4+', 'bk-4', NULL, 1, NULL),
(457, '[bk-4+]->[bk-1-]', 'se-7', 'se-7', NULL, 2, 'East'),
(458, '[bk-4+]->[bk-1-]', 'st-11', 'st-11', NULL, 3, 'East'),
(459, '[bk-4+]->[bk-1-]', 'st-10', 'st-10', NULL, 4, 'East'),
(460, '[bk-4+]->[bk-1-]', 'sw-1', 'sw-1', 'G', 5, 'East'),
(461, '[bk-4+]->[bk-1-]', 'st-6', 'st-6', NULL, 6, 'East'),
(462, '[bk-4+]->[bk-1-]', 'sw-2', 'sw-2', 'R', 7, 'East'),
(463, '[bk-4+]->[bk-1-]', 'ct-1', 'ct-1', NULL, 8, 'South'),
(464, '[bk-4+]->[bk-1-]', 'ct-3', 'ct-3', NULL, 9, 'East'),
(465, '[bk-4+]->[bk-1-]', 'ct-5', 'ct-5', NULL, 10, 'South'),
(466, '[bk-4+]->[bk-1-]', 'st-7', 'st-7', NULL, 11, 'East'),
(467, '[bk-4+]->[bk-1-]', 'se-2', 'se-2', NULL, 12, 'East'),
(468, '[bk-4+]->[bk-1-]', 'bk-1-', 'bk-1', NULL, 13, 'East'),
(511, '[bk-3-]->[bk-2+]', 'bk-3', 'bk-3', NULL, 0, NULL),
(512, '[bk-3-]->[bk-2+]', 'bk-3-', 'bk-3', NULL, 1, NULL),
(513, '[bk-3-]->[bk-2+]', 'se-5', 'se-5', NULL, 2, 'East'),
(514, '[bk-3-]->[bk-2+]', 'st-5', 'st-5', NULL, 3, 'East'),
(515, '[bk-3-]->[bk-2+]', 'ct-6', 'ct-6', NULL, 4, 'East'),
(516, '[bk-3-]->[bk-2+]', 'ct-4', 'ct-4', NULL, 5, 'North'),
(517, '[bk-3-]->[bk-2+]', 'ct-2', 'ct-2', NULL, 6, 'East'),
(518, '[bk-3-]->[bk-2+]', 'sw-1', 'sw-1', 'R', 7, 'North'),
(519, '[bk-3-]->[bk-2+]', 'st-6', 'st-6', NULL, 8, 'East'),
(520, '[bk-3-]->[bk-2+]', 'sw-2', 'sw-2', 'G', 9, 'East'),
(521, '[bk-3-]->[bk-2+]', 'st-9', 'st-9', NULL, 10, 'East'),
(522, '[bk-3-]->[bk-2+]', 'st-8', 'st-8', NULL, 11, 'East');     
INSERT INTO "jcs"."route_elements" VALUES
(523, '[bk-3-]->[bk-2+]', 'se-4', 'se-4', NULL, 12, 'East'),
(524, '[bk-3-]->[bk-2+]', 'bk-2+', 'bk-2', NULL, 13, 'East'),
(541, '[bk-3-]->[bk-1-]', 'bk-3', 'bk-3', NULL, 0, NULL),
(542, '[bk-3-]->[bk-1-]', 'bk-3-', 'bk-3', NULL, 1, NULL),
(543, '[bk-3-]->[bk-1-]', 'se-5', 'se-5', NULL, 2, 'East'),
(544, '[bk-3-]->[bk-1-]', 'st-5', 'st-5', NULL, 3, 'East'),
(545, '[bk-3-]->[bk-1-]', 'ct-6', 'ct-6', NULL, 4, 'East'),
(546, '[bk-3-]->[bk-1-]', 'ct-4', 'ct-4', NULL, 5, 'North'),
(547, '[bk-3-]->[bk-1-]', 'ct-2', 'ct-2', NULL, 6, 'East'),
(548, '[bk-3-]->[bk-1-]', 'sw-1', 'sw-1', 'R', 7, 'North'),
(549, '[bk-3-]->[bk-1-]', 'st-6', 'st-6', NULL, 8, 'East'),
(550, '[bk-3-]->[bk-1-]', 'sw-2', 'sw-2', 'R', 9, 'East'),
(551, '[bk-3-]->[bk-1-]', 'ct-1', 'ct-1', NULL, 10, 'South'),
(552, '[bk-3-]->[bk-1-]', 'ct-3', 'ct-3', NULL, 11, 'East'),
(553, '[bk-3-]->[bk-1-]', 'ct-5', 'ct-5', NULL, 12, 'South'),
(554, '[bk-3-]->[bk-1-]', 'st-7', 'st-7', NULL, 13, 'East'),
(555, '[bk-3-]->[bk-1-]', 'se-2', 'se-2', NULL, 14, 'East'),
(556, '[bk-3-]->[bk-1-]', 'bk-1-', 'bk-1', NULL, 15, 'East'),
(569, '[bk-4+]->[bk-2+]', 'bk-4', 'bk-4', NULL, 0, NULL),
(570, '[bk-4+]->[bk-2+]', 'bk-4+', 'bk-4', NULL, 1, NULL),
(571, '[bk-4+]->[bk-2+]', 'se-7', 'se-7', NULL, 2, 'East'),
(572, '[bk-4+]->[bk-2+]', 'st-11', 'st-11', NULL, 3, 'East'),
(573, '[bk-4+]->[bk-2+]', 'st-10', 'st-10', NULL, 4, 'East'),
(574, '[bk-4+]->[bk-2+]', 'sw-1', 'sw-1', 'G', 5, 'East'),
(575, '[bk-4+]->[bk-2+]', 'st-6', 'st-6', NULL, 6, 'East'),
(576, '[bk-4+]->[bk-2+]', 'sw-2', 'sw-2', 'G', 7, 'East'),
(577, '[bk-4+]->[bk-2+]', 'st-9', 'st-9', NULL, 8, 'East'),
(578, '[bk-4+]->[bk-2+]', 'st-8', 'st-8', NULL, 9, 'East'),
(579, '[bk-4+]->[bk-2+]', 'se-4', 'se-4', NULL, 10, 'East'),
(580, '[bk-4+]->[bk-2+]', 'bk-2+', 'bk-2', NULL, 11, 'East'),
(595, '[bk-1-]->[bk-4+]', 'bk-1', 'bk-1', NULL, 0, NULL),
(596, '[bk-1-]->[bk-4+]', 'bk-1-', 'bk-1', NULL, 1, NULL),
(597, '[bk-1-]->[bk-4+]', 'se-2', 'se-2', NULL, 2, 'West'),
(598, '[bk-1-]->[bk-4+]', 'st-7', 'st-7', NULL, 3, 'West'),
(599, '[bk-1-]->[bk-4+]', 'ct-5', 'ct-5', NULL, 4, 'West'),
(600, '[bk-1-]->[bk-4+]', 'ct-3', 'ct-3', NULL, 5, 'North'),
(601, '[bk-1-]->[bk-4+]', 'ct-1', 'ct-1', NULL, 6, 'West'),
(602, '[bk-1-]->[bk-4+]', 'sw-2', 'sw-2', 'R', 7, 'North'),
(603, '[bk-1-]->[bk-4+]', 'st-6', 'st-6', NULL, 8, 'West'),
(604, '[bk-1-]->[bk-4+]', 'sw-1', 'sw-1', 'G', 9, 'West'),
(605, '[bk-1-]->[bk-4+]', 'st-10', 'st-10', NULL, 10, 'West'),
(606, '[bk-1-]->[bk-4+]', 'st-11', 'st-11', NULL, 11, 'West'),
(607, '[bk-1-]->[bk-4+]', 'se-7', 'se-7', NULL, 12, 'West'),
(608, '[bk-1-]->[bk-4+]', 'bk-4+', 'bk-4', NULL, 13, 'West');     
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."roel_pk_idx" ON "jcs"."route_elements"("id" NULLS FIRST);            
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."roel_rout_node_tile_un_idx" ON "jcs"."route_elements"("route_id" NULLS FIRST, "node_id" NULLS FIRST, "tile_id" NULLS FIRST);         
CREATE CACHED TABLE "jcs"."jcs_properties"(
    "p_key" CHARACTER VARYING(255) NOT NULL,
    "p_value" CHARACTER VARYING(255) NOT NULL
);      
ALTER TABLE "jcs"."jcs_properties" ADD CONSTRAINT "jcs"."prop_pk" PRIMARY KEY("p_key");        
-- 3 +/- SELECT COUNT(*) FROM jcs.jcs_properties;              
INSERT INTO "jcs"."jcs_properties" VALUES
('jcs.version', '1.0.0'),
('jcs.db.version', '1.0.0'),
('default.switchtime', '500');
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."prop_pk_idx" ON "jcs"."jcs_properties"("p_key" NULLS FIRST);         
CREATE CACHED TABLE "jcs"."jcs_version"(
    "db_version" CHARACTER VARYING(255) NOT NULL,
    "app_version" CHARACTER VARYING(255) NOT NULL
);
-- 1 +/- SELECT COUNT(*) FROM jcs.jcs_version; 
INSERT INTO "jcs"."jcs_version" VALUES
('0.0.3', '0.0.3');     
CREATE CACHED TABLE "jcs"."routes"(
    "id" CHARACTER VARYING(255) NOT NULL,
    "from_tile_id" CHARACTER VARYING(255) NOT NULL,
    "from_suffix" CHARACTER VARYING(255) NOT NULL,
    "to_tile_id" CHARACTER VARYING(255) NOT NULL,
    "to_suffix" CHARACTER VARYING(255) NOT NULL,
    "route_color" CHARACTER VARYING(255),
    "locked" BOOLEAN DEFAULT FALSE NOT NULL,
    "status" CHARACTER VARYING(255)
);          
ALTER TABLE "jcs"."routes" ADD CONSTRAINT "jcs"."rout_pk" PRIMARY KEY("id");   
-- 8 +/- SELECT COUNT(*) FROM jcs.routes;      
INSERT INTO "jcs"."routes" VALUES
('[bk-1-]->[bk-3-]', 'bk-1', '-', 'bk-3', '-', NULL, FALSE, NULL),
('[bk-4+]->[bk-2+]', 'bk-4', '+', 'bk-2', '+', NULL, FALSE, NULL),
('[bk-3-]->[bk-2+]', 'bk-3', '-', 'bk-2', '+', NULL, FALSE, NULL),
('[bk-1-]->[bk-4+]', 'bk-1', '-', 'bk-4', '+', NULL, FALSE, NULL),
('[bk-2+]->[bk-3-]', 'bk-2', '+', 'bk-3', '-', NULL, FALSE, NULL),
('[bk-4+]->[bk-1-]', 'bk-4', '+', 'bk-1', '-', NULL, FALSE, NULL),
('[bk-2+]->[bk-4+]', 'bk-2', '+', 'bk-4', '+', NULL, FALSE, NULL),
('[bk-3-]->[bk-1-]', 'bk-3', '-', 'bk-1', '-', NULL, FALSE, NULL);      
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."rout_pk_idx" ON "jcs"."routes"("id" NULLS FIRST);    
CREATE UNIQUE NULLS DISTINCT INDEX "jcs"."rout_from_to_un_idx" ON "jcs"."routes"("from_tile_id" NULLS FIRST, "from_suffix" NULLS FIRST, "to_tile_id" NULLS FIRST, "to_suffix" NULLS FIRST);    
ALTER TABLE "jcs"."tiles" ADD CONSTRAINT "jcs"."tile_acce_sens_arc_ck" CHECK((("accessory_id" IS NOT NULL)
    AND ("sensor_id" IS NULL))
    OR (("accessory_id" IS NULL)
    AND (("sensor_id" IS NOT NULL)
    OR ("sensor_id" IS NULL)))) NOCHECK;         
ALTER TABLE "jcs"."sensors" ADD CONSTRAINT "jcs"."sens_deid_coid_un" UNIQUE NULLS DISTINCT ("device_id", "contact_id", "bus_nr", "command_station_id");        
ALTER TABLE "jcs"."route_elements" ADD CONSTRAINT "jcs"."roel_rout_node_tile_un" UNIQUE NULLS DISTINCT ("route_id", "node_id", "tile_id");     
ALTER TABLE "jcs"."blocks" ADD CONSTRAINT "jcs"."bloc_tile_un" UNIQUE NULLS DISTINCT ("tile_id");              
ALTER TABLE "jcs"."accessories" ADD CONSTRAINT "jcs"."acce_address_un" UNIQUE NULLS DISTINCT ("protocol", "address", "command_station_id");    
ALTER TABLE "jcs"."tiles" ADD CONSTRAINT "jcs"."tile_x_y_un" UNIQUE NULLS DISTINCT ("x", "y"); 
ALTER TABLE "jcs"."locomotive_functions" ADD CONSTRAINT "jcs"."lofu_loid_fnum_un" UNIQUE NULLS DISTINCT ("locomotive_id", "f_number");         
ALTER TABLE "jcs"."routes" ADD CONSTRAINT "jcs"."rout_from_to_un" UNIQUE NULLS DISTINCT ("from_tile_id", "from_suffix", "to_tile_id", "to_suffix");            
ALTER TABLE "jcs"."blocks" ADD CONSTRAINT "jcs"."blck_sens_plus_fk" FOREIGN KEY("plus_sensor_id") REFERENCES "jcs"."sensors"("id") NOCHECK;    
ALTER TABLE "jcs"."routes" ADD CONSTRAINT "jcs"."rout_tile_to_fk" FOREIGN KEY("to_tile_id") REFERENCES "jcs"."tiles"("id") NOCHECK;            
ALTER TABLE "jcs"."blocks" ADD CONSTRAINT "jcs"."blck_tile_fk" FOREIGN KEY("tile_id") REFERENCES "jcs"."tiles"("id") NOCHECK;  
ALTER TABLE "jcs"."accessories" ADD CONSTRAINT "jcs"."acce_cost_fk" FOREIGN KEY("command_station_id") REFERENCES "jcs"."command_stations"("id") NOCHECK;       
ALTER TABLE "jcs"."locomotive_functions" ADD CONSTRAINT "jcs"."lofu_loco_fk" FOREIGN KEY("locomotive_id") REFERENCES "jcs"."locomotives"("id") NOCHECK;        
ALTER TABLE "jcs"."blocks" ADD CONSTRAINT "jcs"."blck_acce_sig_plus_fk" FOREIGN KEY("plus_signal_id") REFERENCES "jcs"."accessories"("id") NOCHECK;            
ALTER TABLE "jcs"."route_elements" ADD CONSTRAINT "jcs"."roel_tile_fk" FOREIGN KEY("tile_id") REFERENCES "jcs"."tiles"("id") NOCHECK;          
ALTER TABLE "jcs"."routes" ADD CONSTRAINT "jcs"."rout_tile_from_fk" FOREIGN KEY("from_tile_id") REFERENCES "jcs"."tiles"("id") NOCHECK;        
ALTER TABLE "jcs"."locomotives" ADD CONSTRAINT "jcs"."loco_cost_fk" FOREIGN KEY("command_station_id") REFERENCES "jcs"."command_stations"("id") NOCHECK;       
ALTER TABLE "jcs"."blocks" ADD CONSTRAINT "jcs"."blck_sens_min_fk" FOREIGN KEY("min_sensor_id") REFERENCES "jcs"."sensors"("id") NOCHECK;      
ALTER TABLE "jcs"."route_elements" ADD CONSTRAINT "jcs"."roel_rout_fk" FOREIGN KEY("route_id") REFERENCES "jcs"."routes"("id") NOCHECK;        
ALTER TABLE "jcs"."blocks" ADD CONSTRAINT "jcs"."blck_acce_sig_min_fk" FOREIGN KEY("min_signal_id") REFERENCES "jcs"."accessories"("id") NOCHECK;              
ALTER TABLE "jcs"."blocks" ADD CONSTRAINT "jcs"."blck_loco_fk" FOREIGN KEY("locomotive_id") REFERENCES "jcs"."locomotives"("id") NOCHECK;      
ALTER TABLE "jcs"."tiles" ADD CONSTRAINT "jcs"."tile_acc_fk" FOREIGN KEY("accessory_id") REFERENCES "jcs"."accessories"("id") NOCHECK;         
ALTER TABLE "jcs"."tiles" ADD CONSTRAINT "jcs"."tile_sens_fk" FOREIGN KEY("sensor_id") REFERENCES "jcs"."sensors"("id") NOCHECK;               
